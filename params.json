{"name":"Wordpress Bareboner","tagline":"A basic layout of a WordPress Git repository, meant to be used as a base for new projects.","body":"**A model repo for a version-agnostic WordPress site. It also provides a maintenance version of your site which you can switch to when you need your WordPress instance to go offline, and a Bash library containing common backup tasks for your files and database. Use it to jump-start your WordPress site repos, or fork it and customize it to your own liking!**\r\n\r\n**Current stable version**: [1.1](https://github.com/andrezrv/wordpress-bareboner/tree/1.1)\r\n\r\n### What's different from a default WordPress installation?\r\n\r\n* WordPress is included as a Git submodule in `/app/wordpress/`. Keep in mind that you can't include any non-core files here.\r\n* You're gonna be using a custom content directory in `/app/content/` (cleaner, and also because it can't be in `/app/wordpress/`).\r\n* Your `wp-config.php` file is in `/app/` (because it can't be in `/app/wordpress/`).\r\n* All writable directories are symlinked to similarly named locations under `/shared/`.\r\n\r\nAll of these changes will significantly improve your WordPress core update process, since you're not gonna be able to overwrite or delete your content accidentally when updating. It's also a cleaner way to mantain your custom files (themes, plugins and static assets) separated from the core, because you can easily move them to any other installation or version of WordPress without dealing with any core files that could be on your way.\r\n\r\n### Assumptions\r\n\r\n* You are developing and staging against Unix systems. Windows is not supported, since this project contains symlinks and Bash tasks that will not work there. For local development, you may want to consider using [Vagrant](http://www.vagrantup.com/) and [VVV](https://github.com/Varying-Vagrant-Vagrants/VVV).\r\n* You have a symlink called `/live` that points either to `/app/` or `/app/wordpress/` (the later is the default path).\r\n* You have a symlink called `/background` that points to `/app/maintenance/`.\r\n* You are pointing the root of your host in your NGINX or Apache configuration to `/live`, as you can see in `/app/nginx-sample.conf`.\r\n\r\n### Getting started\r\n\r\n#### Cloning\r\nYou must clone this repository recursively, because it includes WordPress as a Git submodule and you won't get all the files with a default clone. Just run the following command:\r\n\r\n```bash\r\ngit clone --recursive git://github.com/andrezrv/wordpress-bareboner.git $my_project \r\n```\r\n#### WordPress Version\r\nThis repo intends to always track the latest stable release. Please send a pull request if I fall behind.\r\n\r\n#### Uploads Management\r\nFor local development, `/app/shared/` will contain your static files, which will be ignored by Git, because probably you don't wish to have some of them outside your development stage. For production and staging, you would need your deploy script (i.e some Capistrano-based library, such as [Stage WP](http://github.com/andrezrv/stage-wp), ) or [WP-Stack](http://github.com/markjaquith/WP-Stack)) to look for symlinks pointing to `/shared/` and repoint them to some location outside the repo. This gives you separation between Git-managed code and uploaded files. However, if you're using [Stage WP](http://github.com/andrezrv/stage-wp), it provides tasks that can help you deploy your static files in separated processes.\r\n\r\n#### Local Configuration\r\nFor local development, copy `local-config-sample.php` to `local-config.php` and configure your settings there. Locally, you may need to have different MySQL credentials or do things like enable query saving or debug mode. This file is ignored by Git, so it doesn't accidentally get checked in. If the file does not exist (which it shouldn't, both in production and staging), then WordPress will use the database credentials defined in `wp-config.php`.\r\n\r\n#### Production & Staging Configuration\r\nFor production, copy `production-config-sample.php` to `production-config.php`; for staging, copy `staging-config-sample.php` to `staging-config.php`. Those file should contain settings that you only want to be active on each environment. `production-config.php` should not exist on your staging environment. To achieve this, since the file is not ignored by Git, you need to ignore it in your deploy script, or remove it from your staging server before finishing deployment.\r\n\r\n#### Using Cache\r\nIf you want to use [Memcached](http://wordpress.org/plugins/memcached/) as an object cache backend, or any other cache plugin or method that you need to configure within a file, such as [APC](http://wordpress.org/plugins/apc/) or [Batcache](http://wordpress.org/plugins/batcache/), copy `cache-config-sample.php` to `cache-config.php`. The included code works only for Batcache, but you can modify it as you need. For memcached, it should be something like: `<?php return array( \"server01:11211\", \"server02:11211\" ); ?>`.\r\n\r\n#### Using WP-CLI\r\nIf you're using [WP-CLI](http://wp-cli.org/) (and if not, you really should), just copy `wp-cli-sample.yml` and `wp-cli.yml` and adjust it to your own needs. Be sure to point `path` to `/app/wordpress/`, since this file can't be into `/app/wordpress/`.\r\n\r\n#### Database Settings in `wp-config.php`\r\nIf you are using [WP-Stack](http://github.com/markjaquith/WP-Stack) or [Stage WP](http://github.com/andrezrv/stage-wp) as your deployment script, in the moment you fire your deploy process, both of these tools will automatically set the database values to the ones you defined in their configuration files, so you should never write them down on `wp-config.php`. Otherwise, you should write your own deployment script to do so, or add `wp-config.php` to your `.gitignore` file to avoid sending your credentials to your remote repo.\r\n\r\n#### Using Maintenance Mode & Backup Tasks\r\nCopy `/app/tasks/config-sample.sh` to `/app/tasks/config.sh`, fill it with your custom values and run `bash add-to-bin.sh`. That will give you the following terminal commands:\r\n\r\n* `${your_prefix}-backup-application`: saves a copy of your website files into your desired location. You should add its path to your `.gitignore` if you are saving the files inside the repo's folder.\r\n* `${your_prefix}-backup-database`: saves a copy of your database into your desired location. As with the former task, you should add its path to your `.gitignore` if you are saving the files inside the repo's folder.\r\n* `${your_prefix}-switch`: switches your website from active to maintenance state and vice versa, by switching symlinks to your site's root.\r\n* `${your_prefix}-full-backup`: puts your website in maintenance state, then performs a full backup of database and files, and puts your site in active state again.\r\n\r\n#### Support For Multisite Mode\r\nWordPress fully supports Mulstise Mode since WordPress 3.5. Earlier versions of WordPress don't support Multisite when WordPress is in a subdirectory, but if your site is not the case, you should not have problems with older versions.\r\n\r\n### Must Use Plugins\r\nWordPress Must Use plugins, typically included in `mu-plugins` folder, are plugins that don't need to be activated and will work just because of being there. WordPress Bareboner includes some of those plugins:\r\n\r\n#### Recover Default Theme Directory\r\nFor installations with a custom content directory, it registers again the default one, located in `wp-content/themes`, so you can use the default themes pre-installed in every WordPress release. Original credits go to [Mark Jaquith](https://github.com/markjaquith/WordPress-Skeleton).\r\n\r\n#### Jetpack Development Mode\r\nIf you're using [Jetpack](http://jetpack.me/) and have not defined the `JETPACK_DEV_DEBUG` constant, this plugin will automatically set Jetpack to [Development Mode](http://jetpack.me/support/development-mode/) for your local stage.\r\n\r\n#### Jetpack Modules Deactivator\r\nBy default, upon its installation, [Jetpack](http://jetpack.me/) will activate a lot of modules that may go from being a little annoying to add a lot of overhead to your site loading speed. This plugin will set the status of all the Jetpack modules upon installation to deactivated by default.\r\n\r\n### Contributing\r\nIf you feel like you want to help this project by adding something you think useful, you can make your pull request against the master branch :)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}